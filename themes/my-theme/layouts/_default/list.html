{{ define "main" }}
<main class="blog-list">
    <h1>ğŸ“š Blog Posts</h1>
    
    <ul>
        {{ range where .Site.RegularPages "Section" "posts" }}
        <li class="blog-item">
            {{ if .Params.image }}
                <a href="{{ .RelPermalink }}">
                    <img src="{{ .Params.image | relURL }}" alt="{{ .Title }}" class="blog-thumbnail">
                </a>
            {{ end }}
            
            <div class="blog-content">
                <div class="blog-content">
                    <h2 class="blog-title">
                        <a href="{{ .RelPermalink }}">{{ .Title }}</a>
                    </h2>
                    <p class="blog-date">ğŸ“… {{ .Date.Day | humanize }} {{ .Date.Format "Jan 2006" }}</p>
                
                    <div class="blog-meta">
                        {{ with .Params.categories }}
                            <p class="blog-categories">
                                ğŸ· Categories: 
                                {{ range . }}
                                    <a href="{{ "/categories/" | relURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
                                {{ end }}
                            </p>
                        {{ end }}
                    
                        {{ $words := .WordCount }}
                        {{ $wpm := .Site.Params.wordsPerMinute | default 200 }}
                        {{ $readTime := div (add $words $wpm) $wpm | math.Ceil }}
                        <p>ğŸ“– Estimated Read Time: {{ $readTime }} minutes</p>
                    </div>
                </div>
                {{ end }}
            </div>
        </li>
    </ul>
</main>
{{ end }}