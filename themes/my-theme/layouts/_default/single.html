{{ define "main" }}
<article class="blog-post">
    <h1>{{ .Title }}</h1>
    
    <div class="blog-meta">
        {{ with .Date }}
        <p>📅 Published on: {{ .Format "2" | humanize }} {{ .Format "Jan 2006" }}</p>
    {{ else }}
        <p>📅 Published on: Unknown</p>
    {{ end }}

        {{ $words := .WordCount }}
        {{ $wpm := .Site.Params.wordsPerMinute | default 200 }}
        {{ $readTime := div (add $words $wpm) $wpm | math.Ceil }}
        <p>📖 Estimated Read Time: {{ $readTime }} minutes</p>

        {{ with .Params.categories }}
            <p>🏷 Categories: 
                {{ range . }}
                    <a href="{{ "/categories/" | relURL }}{{ . | urlize }}" class="category-tag">{{ . }}</a>
                {{ end }}
            </p>
        {{ end }}
        
        {{ with .Params.tags }}
            <p>🔖 Tags: 
                {{ range . }}
                    <a href="{{ "/tags/" | relURL }}{{ . | urlize }}" class="tag">{{ . }}</a>
                {{ end }}
            </p>
        {{ end }}
    </div>

    <div class="blog-content">
        {{ .Content }}
    </div>

    <div class="blog-navigation">
        {{ with .PrevInSection }}
            <a href="{{ .RelPermalink }}">← Previous Post: {{ .Title }}</a>
        {{ end }}
        {{ with .NextInSection }}
            <a href="{{ .RelPermalink }}">Next Post: {{ .Title }} →</a>
        {{ end }}
    </div>
</article>
{{ end }}